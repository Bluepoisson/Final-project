(this["webpackJsonpfinal-project-client"]=this["webpackJsonpfinal-project-client"]||[]).push([[0],{170:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(17),o=a.n(l),r=(a(88),a(15)),s=a(4),i=a(16),u=a(37),m=a(12),g=a(20),E=a(22),p=a(42),f=a(52),h=a.n(f),d=(a(170),{bounce:{animation:"x 1s",animationName:E.a.keyframes(g.bounce,"bounce")}}),b=function(){return c.a.createElement(p.a,null,c.a.createElement("nav",{className:"nav-container"},c.a.createElement("div",{className:"leftSide"},c.a.createElement("a",{href:"/"},c.a.createElement("img",{className:"logo",style:d.bounce,src:h.a,alt:"Logo"})),c.a.createElement("h1",{className:"title"},"Sick advisor")),c.a.createElement("div",{className:"rightSide"},c.a.createElement("div",{className:"links"},c.a.createElement("a",{href:"login"},"Login"),c.a.createElement("a",{href:"map"},"Map"),c.a.createElement("a",{href:"search"},"Search")))))},A=function(){return c.a.createElement("footer",null,c.a.createElement("div",{className:"nav-container"},c.a.createElement("ul",null)))},v=a(81),N=a.n(v),O=(a(177),{wobble:{animation:"x 2s",animationName:E.a.keyframes(g.wobble,"wobble")}}),S=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,null,c.a.createElement(b,{className:"banner-startpage"}),c.a.createElement("section",{className:"startpage-container"},c.a.createElement("h1",{className:"startpage-title",style:O.wobble},"for ",c.a.createElement("span",null,"healthy")," choices"),c.a.createElement("div",null,c.a.createElement("p",null,"Looking for a good health care clinic? Log in or signup to check out reviews or write your own")),c.a.createElement("img",{className:"startpage-illustration",src:N.a,alt:""}))),c.a.createElement(A,null))},j=a(3),y=a(28),w=function(){var e=Object(n.useState)({}),t=Object(j.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)({}),r=Object(j.a)(o,1)[0],s=function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};r(t)};Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition(s)}));var i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GOOGLE_API_KEY;return c.a.createElement(c.a.Fragment,null,c.a.createElement(y.c,{googleMapsApiKey:i},c.a.createElement(y.a,{mapContainerStyle:{height:"100vh",width:"100%"},zoom:13,center:{lat:55.60498,lng:13.003822}},[{name:"V\xe5rdcentralen S\xf6derv\xe4rn",location:{lat:55.589131,lng:13.004727}},{name:"M\xf6llev\xe5ngs V\xe5rdcentral",location:{lat:55.58838,lng:13.00857}},{name:"V\xe5rdcentralen Eden",location:{lat:55.59319,lng:13.01061}},{name:"F\xe5gelbacken v\xe5rdcentral",location:{lat:55.59644,lng:12.98402}},{name:"Capio City Clinic Center Malmo",location:{lat:55.6036,lng:13.00455}}].map((function(e){return c.a.createElement(y.d,{key:e.name,position:e.location,onClick:function(){return function(e){l(e)}(e)}})})),a.location&&c.a.createElement(y.b,{position:a.location,clickable:!0,onCloseClick:function(){return l({})}},c.a.createElement("p",null,a.name)))))},k={login:{accessToken:null,userId:localStorage.userId||0,loggedIn:!1,statusMessage:""}},C=Object(u.b)({name:"user",initialState:k,reducers:{setAccessToken:function(e,t){var a=t.payload.accessToken;e.login.accessToken=a,localStorage.setItem("accessToken",a)},setUserId:function(e,t){var a=t.payload.userId;e.login.userId=a,localStorage.setItem("userId",a)},setStatusMessage:function(e,t){var a=t.payload.statusMessage;console.log("Status Message: ".concat(a)),e.login.statusMessage=a},setSecretMessage:function(e,t){var a=t.payload.secretMessage;console.log("Secretmessage in reducer:".concat(a)),e.login.secretMessage=a},toggleLoggedState:function(e,t){var a=t.payload;console.log(a),e.login.loggedIn=t.payload,!1===a&&(e.login.accessToken=null)},logout:function(e,t){console.log("Logging out"),e.login.userId=0,e.login.accessToken=null,e.login.statusMessage="Logged out",e.login.secretMessage="",e.login.loggedIn=!1}}}),T=(a(178),a(179),function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.user.login.accessToken})),a=Object(s.f)();return t?c.a.createElement(c.a.Fragment,null,c.a.createElement(b,null),c.a.createElement("div",{className:"container-profile"},c.a.createElement("h2",null,"Profile"),c.a.createElement("button",{className:"btn",type:"submit",onClick:function(){a.push("/clinics")},value:"Clinics"},"Clinics"),c.a.createElement("button",{className:"btn",type:"submit",onClick:function(){a.push("/review")},value:"Review"},"Review"),c.a.createElement("button",{className:"btn",type:"submit",onClick:function(){a.push("/my_reviews")},value:"myReviews"},"My reviews"),c.a.createElement("button",{className:"btn-logout",type:"submit",onClick:function(){e(C.actions.logout),e(C.actions.toggleLoggedState(!1)),window.location.href="/"},value:"Logout"},"Sign out"))):c.a.createElement("div",{className:"err-text",value:function(t){e(C.actions.setStatusMessage({statusMessage:t}))}},"Couldn't log in")}),M=function(){return c.a.createElement("svg",{width:"30px",height:"30px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30"},c.a.createElement("path",{d:"M27 14.5C27 7.596441 21.4035594 2 14.5 2S2 7.596441 2 14.5 7.5964406 27 14.5 27 27 21.403559 27 14.5zm-19.3388348-.353553l7.4852814-7.485282c.1952622-.195262.5118446-.195262.7071068 0l2.1213203 2.121321c.1952622.195262.1952622.511844 0 .707106L12.9644661 14.5l5.0104076 5.010408c.1952622.195262.1952622.511844 0 .707106l-2.1213203 2.121321c-.1952622.195262-.5118446.195262-.7071068 0l-7.4852814-7.485282c-.19799-.19799-.197989-.509117 0-.707106z",fill:"#fff",fillRule:"evenodd"}))},I=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.user.login.accessToken})),a=Object(n.useState)(""),l=Object(j.a)(a,2),o=l[0],i=l[1],u=Object(n.useState)(""),g=Object(j.a)(u,2),E=g[0],p=g[1],f=Object(n.useState)(""),h=Object(j.a)(f,2),d=h[0],A=h[1],v=Object(s.f)();return t?c.a.createElement(T,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(b,null),c.a.createElement(r.b,{className:"backLink",to:"/"},c.a.createElement(M,null)),c.a.createElement("section",{className:"login-form"},c.a.createElement("form",{className:"container"},c.a.createElement("h1",null,"Please Log in"),c.a.createElement("div",{className:"form-control"},c.a.createElement("input",{type:"email",required:!0,placeholder:"mail@mail.com",value:o,onChange:function(e){return i(e.target.value)}}),c.a.createElement("label",{className:"form-label"},"Email ")),c.a.createElement("div",{className:"form-control"},c.a.createElement("input",{type:"password",required:!0,value:E,onChange:function(e){return p(e.target.value)}}),c.a.createElement("label",{className:"form-label"},"Password")),c.a.createElement("div",null,d),c.a.createElement("button",{className:"btn",type:"submit",onClick:function(t){t.preventDefault(),A(""),fetch("http://localhost:8080/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:E})}).then((function(e){if(e.ok)return e.json();throw new Error("Incorrect email and/or password")})).then((function(t){return a=t,localStorage.setItem("superToken",a.accessToken),e(C.actions.setAccessToken({accessToken:a.accessToken})),e(C.actions.setUserId({userId:a.userId})),e(C.actions.setStatusMessage({statusMessage:"Login Success"})),void e(C.actions.toggleLoggedState(!0));var a})).catch((function(t){return a=t,e(C.actions.setAccessToken({accessToken:null})),e(C.actions.toggleLoggedState(!1)),void e(C.actions.setStatusMessage({statusMessage:a}));var a})).catch((function(e){A(e.message)}))}},"Login"),c.a.createElement("p",{className:"text"},"Don't have an account?",c.a.createElement("button",{className:"signup-btn",type:"submit",onClick:function(){v.push("/register")}},"Sign up")))))},x={bounce:{animation:"x 2s",animationName:E.a.keyframes(g.bounce,"bounce")}},L=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),i=Object(j.a)(o,2),u=i[0],m=i[1],g=Object(n.useState)(""),E=Object(j.a)(g,2),f=E[0],h=E[1],d=Object(n.useState)(!1),A=Object(j.a)(d,1)[0],v=Object(s.f)();return c.a.createElement(c.a.Fragment,null,c.a.createElement(b,null),c.a.createElement(r.b,{className:"backLink",to:"/"},c.a.createElement(M,null)),c.a.createElement("section",{className:"login-form"},c.a.createElement("form",{className:"container",onSubmit:function(e){e.preventDefault(),fetch("http://localhost:8080/users",{method:"POST",body:JSON.stringify({email:a,password:u}),headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return A(!0),e.json();throw new Error("Signup failed")})).then((function(e){var t=e.accessToken;t&&(window.localStorage.setItem("accessToken",t),v.push("/users"))})).then((function(e){return e})).catch((function(e){h(e.message)}))}},c.a.createElement(p.a,null,c.a.createElement("h1",{className:"test",style:x.bounce},"Join us!")),c.a.createElement("div",{className:"form-control"},c.a.createElement("input",{required:!0,type:"text",name:"email",value:a,onChange:function(e){return l(e.target.value)},minLength:"3"}),c.a.createElement("label",{className:"form-label"},"Email",a.length<3&&0!==a.length&&" is too short",a.length>20&&" is too long")),c.a.createElement("div",{className:"form-control"},c.a.createElement("input",{required:!0,type:"password",name:"select-password",value:u,onChange:function(e){return m(e.target.value)},minLength:"5"}),c.a.createElement("label",{className:"form-label"},"Password")),c.a.createElement("div",null,f),c.a.createElement("button",{className:"btn",type:"submit",onClick:function(){v.push("/login")}},"Yes!"))))},P=a(82),D=(a(185),function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),r=Object(j.a)(o,2),s=r[0],i=r[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(b,null),c.a.createElement("form",{className:"search-container",onSubmit:function(e){e.preventDefault(),function(){var e="http://localhost:8080/clinics?name=".concat(s);fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){l(e),console.log(e)})).catch((function(e){return console.log("Caught an error:",e)}))}()}},c.a.createElement("input",{value:s,type:"text",id:"search",name:"search",placeholder:"Search...",onChange:function(e){return i(e.target.value)}}),c.a.createElement("input",{className:"submit-btn",type:"submit",value:"Search"}),a&&a.map((function(e){return c.a.createElement("div",{className:"search-output"},c.a.createElement("p",{key:P.uuid},e.name))}))))}),J=(a(186),function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){fetch("http://localhost:8080/clinics",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return l(e)})).catch((function(e){return console.log("error:",e)}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(r.b,{className:"backLink",to:"/login"},c.a.createElement(M,null)),c.a.createElement("div",{className:"container_clinics_list"},a.map((function(e){return c.a.createElement("div",{className:"card ",key:e._id},c.a.createElement("a",{href:"https://bit.ly/36PkBjU"},c.a.createElement("h2",{className:"card__info h2"},e.name),c.a.createElement("h3",null,"Rating:",e.rating),c.a.createElement("h4",{className:"card__info h4 "},e.formatted_address),c.a.createElement("h4",{className:"card__info h4 "},e.formatted_phone_number),c.a.createElement("h4",null,"Opening hours:",e.opening_hours),c.a.createElement("button",null,"0 Likes")))})),";"))}),Y=(a(187),function(){var e=Object(m.c)((function(e){return e.user.login.accessToken})),t=Object(n.useState)(""),a=Object(j.a)(t,2),l=a[0],o=a[1],r=Object(n.useState)(""),s=Object(j.a)(r,2),i=s[0],u=s[1],g=Object(n.useState)(""),E=Object(j.a)(g,2),p=E[0],f=E[1],h=Object(n.useState)(""),d=Object(j.a)(h,2),b=d[0],A=d[1],v=Object(n.useState)(""),N=Object(j.a)(v,2),O=N[0],S=N[1];Object(n.useEffect)((function(){fetch("http://localhost:8080/clinics/",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return S(e)})).catch((function(e){return console.log("Caught an error:",e)}))}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:"review-container",onSubmit:function(t){t.preventDefault(),function(){var t="http://localhost:8080/reviews/".concat(b);fetch(t,{method:"POST",body:JSON.stringify({reception:l,time:i,recommendation:p}),headers:{"Content-Type":"application/json",Authorization:e}}).then((function(e){if(e.ok)return e.json();throw new Error("Posting review failed")})).catch((function(e){return console.log("Caught an error:",e)}))}()}},c.a.createElement("h1",{className:"review-title"},"Review your recent health care experience"),c.a.createElement("fieldset",null,c.a.createElement("div",{className:"question-card"},c.a.createElement("h3",{className:"question-header",tabIndex:"0"},"Select clinic"),c.a.createElement("select",{className:"select-input",name:"clinicId",id:"clinicId",value:b,onChange:function(e){return A(e.target.value)},required:!0},O&&O.map((function(e){return c.a.createElement("option",{key:e._id,value:e._id},e.name)})),";"))),c.a.createElement("fieldset",null,c.a.createElement("div",{className:"question-card"},c.a.createElement("h3",{className:"question-header",tabIndex:"0"},"How did you experience the reception?"),c.a.createElement("select",{className:"select-input",value:l,onChange:function(e){return o(e.target.value)},required:!0},c.a.createElement("option",{value:""},"Select"),c.a.createElement("option",{value:"Professional"},"Professional"),c.a.createElement("option",{value:"Neutral"},"Neutral"),c.a.createElement("option",{value:"Poor"},"Poor")))),c.a.createElement("fieldset",null,c.a.createElement("div",{className:"question-card"},c.a.createElement("h3",{className:"question-header",tabIndex:"0"},"Was your appointment time respected?"),c.a.createElement("select",{className:"select-input",value:i,onChange:function(e){return u(e.target.value)},required:!0},c.a.createElement("option",{value:""},"Select"),c.a.createElement("option",{value:"Yes"},"Yes"),c.a.createElement("option",{value:"Somewhat"},"Somewhat"),c.a.createElement("option",{value:"Nope"},"Nope")))),c.a.createElement("fieldset",null,c.a.createElement("div",{className:"question-card"},c.a.createElement("h3",{className:"question-header",tabIndex:"0"},"Would you recommend this clinic?"),c.a.createElement("select",{className:"select-input",value:p,onChange:function(e){return f(e.target.value)},required:!0},c.a.createElement("option",{value:""},"Select"),c.a.createElement("option",{value:"Yes"},"Yes"),c.a.createElement("option",{value:"Maybe"},"Maybe"),c.a.createElement("option",{value:"No"},"Nope")))),c.a.createElement("input",{className:"submit-btn",type:"submit",value:"Submit"})))}),B=function(){var e=Object(m.c)((function(e){return e.user.login.accessToken})),t=Object(n.useState)(""),a=Object(j.a)(t,2),l=a[0],o=a[1];return Object(n.useEffect)((function(){fetch("http://localhost:8080/reviews",{method:"GET",headers:{"Content-Type":"application/json",Authorization:e}}).then((function(e){return e.json()})).then((function(e){return o(e)})).catch((function(e){return console.log("Caught an error:",e)}))})),c.a.createElement(c.a.Fragment,null,c.a.createElement(r.b,{className:"backLink",to:"/"},c.a.createElement(M,null)),l&&l.map((function(e){return c.a.createElement("p",null," ",e.recommendation," ")})),";")},F=Object(i.c)({user:C.reducer}),H=Object(u.a)({reducer:F}),R=function(){return c.a.createElement(m.a,{store:H},c.a.createElement(r.a,null,c.a.createElement("main",{className:"section"},c.a.createElement(s.c,null,c.a.createElement(s.a,{exact:!0,path:"/",component:S}),c.a.createElement(s.a,{exact:!0,path:"/map",component:w}),c.a.createElement(s.a,{exact:!0,path:"/login",component:I}),c.a.createElement(s.a,{exact:!0,path:"/review",component:Y}),c.a.createElement(s.a,{exact:!0,path:"/register",component:L}),c.a.createElement(s.a,{exact:!0,path:"/my_reviews",component:B}),c.a.createElement(s.a,{exact:!0,path:"/clinics",component:J}),c.a.createElement(s.a,{exact:!0,path:"/search",component:D})))))};o.a.render(c.a.createElement(R,null),document.getElementById("root"))},52:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAADHklEQVRo3u2ZvWuTURTGf5qYtCaxQ0WMRWwVcXDwC6FttDrUQXASEUQHt/4LWrsUBXVyiFq6CcbFwUkQEQcRiyBoC7qoSEVrragQE8HUhDrcG/o2ufe+30mQPHCXe8577nPuPed+nBfaaKONMLAJyAFfZLsNpJtNyiniwGtgqaa9BVLNJucEIwry1TYS9GCrQ3Bgt0dZQxxIADsRYaLDnEH22SCLS9uJoJ0EWAtMAGVEKJSAi0BUodsLFKgPnwKwRaEfkbZKUq8M3AA6g3TgJuqYHtXoTyp0JzW65zW2rwdFPmGZ+dr2C1ij+Car0M1q7C9obJeB9XbknORAL2KZVUgBh3xMzkFgg0YWATYH4cB7YNEgvwdkPJDvB+4b5IvAhyAcKAFXDfIU8BA47IL8gPxmnUHnMpD3MDFKRBEJq9pdrPlQXQlTDgxKYiY7o6h3ON+IAcNyEJMTOgcyNt8OyzFChx2RKUX/lAPHG4pBAyE3rYi/naypThRxl/x1WKXpjwNnEZevOcTdflajmwEe4P6qXACOAs808j7gNNADTAO3EDuirQNp4BHiYlVFEbiLOB1V2APsd+nAC+CVRhYFTgJJS98b4Agwb2c4h/+4DqvlnMzMfAsQ1bWvtWRVJ/GSy1BoJCpOHHjcbJYG1HHTJfETYLulr9FJHANOsfLl9w4YoiaMdNtoEjgD7AI+AXeAjxrdsLbRHcAJxDY6IzkUXY5hiwHMF7OWPoX9krc6MdRK5L1c5vLSZkNwwIa81+t0XtoOBVFE9eAb+lAI6kGzAJxD/w73hEvYx7E1Ge2qEvuAnzY2x4Mi38Fy0cnpY8RJWaXfZiVKQJcdOSeP+m2Yn3nH0e/lJjwHjhnkMWBrEA7MoriDSBQQp7ZXPEXklQoVxCHq24Hf6MuCV4C/in7VinVobFzT9E8A331Mzgp0ImqVFZbjcxz1TtGHuvzyB3E9qEVE2rIWd7MEXNytohvYi7kgNYY+MS8YvuuStrvdEHJbPPohmwk9HmV54KVLPqH8oZk2yGZCGC9wmH7yJX3YbSjS1P9m3dhsUm208T/iH6nU5OOfLDZWAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTAxLTI4VDIwOjI4OjA4KzAwOjAw8kP+HQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wMS0yOFQyMDoyODowOCswMDowMIMeRqEAAAAASUVORK5CYII="},81:function(e,t,a){e.exports=a.p+"static/media/illustration.e433a018.svg"},83:function(e,t,a){e.exports=a(188)},88:function(e,t,a){}},[[83,1,2]]]);
//# sourceMappingURL=main.e99b9a56.chunk.js.map